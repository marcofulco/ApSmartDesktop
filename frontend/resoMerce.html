<html>

<head>
    <meta name="viewport"
        content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, width=device-width, height=device-height, viewport-fit=cover">
    <script src="js/jquery-3.5.1.min.js"></script>
    <!-- <link rel="stylesheet" href="libs/css/bootstrap.min.css"> -->
    <!-- <meta http-equiv="Content-Security-Policy"
      content="default-src * data: gap: https://ssl.gstatic.com https: http: 'unsafe-eval' blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' * https://*.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *; img-src * 'self' data: https: http: content:;"> -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src * data: 'unsafe-eval' 'unsafe-inline' blob:; img-src * 'self' data: https: http: content:;">
    <meta charset="utf-8">
    <meta name="description" content="Lista Articoli">

    <link rel="apple-touch-icon" href="img/icona152.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="application-name" content="Presa Ordini" />
    <meta name="msapplication-TileImage" content="img/icona144.png">
    <meta name="msapplication-TileColor" content="#4B7A46">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4B7A46" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <title>Reso merce</title>
    <meta charset="utf-8">

    <script src="config/config.js"></script>
    <script src="js/script.js?ver=3.0"></script>
    <script src="componenti/elementiResoMerce.js"></script>
    <link rel="stylesheet" href="css/style.css">

</head>

<body>

    <!-- Modal Box Ingrandimento Immagine -->
    <div id="myModal" class="modal clrBianco clrTestoNero clrContornoScuro h100">
        <div class="pulsantiera h40p posTopA5p posLeftA5p">
            <a id="cmdAllegatoM" href="#" class="w20" title="Apri Allegato"
                onclick="apriAllegato('{ALLEGATIWEB}','divFrame','xFrame');"><img src="img/bianche/attach.svg" /></a>
            <a id="cmdOpzioniM" href="#" class="w20" title="Apri Opzioni" onclick="apriOpzioni('{CODICE}');"><img
                    src="img/bianche/opzioni.svg" /></a>
        </div>
        <span class="close clrTestoNero" onclick="chiudiModalBox('myModal');">&times;</span>
        <div class="row w100 marg15Top">
            <div class="w100">
                <img id="bwI" class="posTopA w20p zIndex2" src="img/rosse/back.svg"
                    onclick="cambiaImmagineMouse('{CODICE}',-1)" />
                <div id="bw" class="posTopA posLeftACentro w75P clrTestoRosso testoGrassetto cx zIndex2">1/1</div>
                <img id="bwA" class="posTopA posRightA10p w20p zIndex2" src="img/rosse/forward.svg"
                    onclick="cambiaImmagineMouse('{CODICE}',1)" />
            </div>
            <img class="modal-content" id="img1" name="switchM">
        </div>
        <div class="posTopA475p posBottomA50p scrollY-Auto w100">
            <div id="divLinkFam" class="row w100-2p marg10Top marg2Sx testoNormale marg5Bottom"></div>
            <div id="divCodiceM" class="row w100 marg10Top testoNormale clrTestoRosso cx"><span
                    id="spCodiceM">codice</span><span id="spCodiceF" class="testoNormale clrTestoNero">codiceForn</span>
            </div>
            <div id="captionImg" class="row marg5Sx w100-10p testoNormale testoNero marg10Top marg20Bottom"></div>
        </div>

    </div>
    <!-- Modal Box Inserimento reso -->
    <!-- <div id="" class="modal clrBianco clrTestoNero clrContornoScuro h100"> -->
    <div id="modalResoDocumento" class="h100 w100 modalBlockBody posTop posLeft posBottom posRight">
        <div id="" class="containerModal modalCentrato" style="display: block;">
            <div class="modalMedio" style="height: 100%;">
                <div class="w100 h40p">
                    <div class="h100 centraElemento fasciaIntestazione "
                        style="color: white; text-align: center; font-size: 25px; padding-top: 5px; border-radius: 10px 10px 0px 0px;"
                        id="modalBgintestazioneModal">
                        Reso Merce
                    </div>
                </div>
                <div id="modalBgcorpoModal" style="padding: 10px;
      margin-top: 7px;
      height: calc(100% - 126px);
      width: calc(100% - 20px);
      overflow: auto;" class="">
                    <div class="row w100">
                        <div class="row col6 centraElemento h200p">
                            <div class="w200p centraElemento">
                                <img class="w100" id="imgReso" name="switchM" maximg="1" actualimg="" nrimg="1" src=""
                                    style="touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
                            </div>
                        </div>
                        <div class="row col6">
                            <div class="w95 centraElemento">
                                <input type="text" hidden id="idMov">
                                <input type="text" hidden id="riga">
                                <div class="w100 testoGrassetto" id="lblDescrizione"></div>
                                <div class="w100 "><span id="lblCodice" class="clrTestoRosso"></span>-<span
                                        id="lblCodiceFornitore"></span></div>
                                <div class="w100 testoGrassetto">Quantità massima reso <span id="lblQu"></span></div>
                                <div class="w100 testoGrassetto">Prezzo <span id="lblPrezzo"></span> </div>
                                <div class="w100 testoGrassetto">Importo <span id="lblImporto"></span> </div>
                            </div>
                        </div>
                    </div>

                    <div class="w100 marg10Top h50p row">
                        <div class="centraElemento w90">
                            <div class="row has-float-label w100">
                                <span class="selectDefault" id="0">Seleziona motivo reso</span>
                                <label for="motivoReso">Seleziona motivo reso</label>
                                <select id="motivoReso" name="motivoReso" class="selectBox">
                                    <option value="0"></option>
                                    <option value="Merce difettosa">Merce difettosa</option>
                                    <option value="Merce danneggiata alla consegna">Merce danneggiata alla consegna
                                    </option>
                                    <option value="Merce da sostituire">Merce da sostituire</option>
                                    <option value="Assistenza">Assistenza</option>
                                    <option value="Assistenza a  fornitore">Assistenza a fornitore</option>
                                    <option value="Errato acquisto">Errato acquisto</option>
                                    <option value="Merce non conforme all'ordine">Merce non conforme all'ordine</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="w100 marg5Top h50p row">
                        <div class="centraElemento w90">
                            <div class="row has-float-label w100">
                                <label for="notaAggiuntiva">Nota Aggiuntiva</label>
                                <input id="notaAggiuntiva" type="text" placeholder="Inserisci qualche nota aggiuntiva">
                            </div>
                        </div>
                    </div>
                    <div class="w100 h50p row">
                        <div class="w25 h100 row">
                            <button style="display: block; margin: 0 auto;height:100%;" class="pulsanteVeba"
                                onclick="diminuisciQuantità()">
                                <img src="img/bianche/minus.svg" style="height:30px;width:30px;">
                            </button>
                        </div>
                        <div id="divquReso" name="divquReso" class="row has-float-label w50 marg5Top h50p">
                            <input id="quReso" name="quReso" type="number" inputmode="decimal" class="cx"
                                placeholder="Quantità" value="1" style="text-align:center">
                            <span class="deleteicon"
                                onclick="var input = getElementById('quReso'); input.value = ''; input.focus(); "></span>
                            <label id="lblquReso" for="quReso">Quantità</label>
                        </div>
                        <div class="w25 h100 row">
                            <button style="display: block; margin: 0 auto;height:100%;" class="pulsanteVeba"
                                onclick="aumentaQuantità()">
                                <img src="img/bianche/plus.svg" style="height:30px;width:30px;">
                            </button>
                        </div>
                    </div>
                    <div class="w100 row marg10Top">
                        <div class="w100 row centraElemento">
                            <input type="file" id="fileElemReso" multiple accept="image/*,application/pdf,application/msword,
            application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv" style="display:none">
                            <button class="pulsanteTastieraImg pulsanteVeBa" onclick="allegaFotoRiga('fileElemReso')"
                                id="btnScontrinoCortesia">
                                <img src="img/bianche/attach.svg" style="height:45px;width:45px">

                            </button>
                        </div>
                    </div>
                    <ul id="elencoAllegatiReso" name="elencoAllegatiReso" class="row w100-5p elencoR1 marg10Top">

                    </ul>

                </div>
                <div class="posBottom w100 clrSfumatoChiaro h50p"
                    style="position: absolute; padding: 5px 0px; border-radius: 0px 0px 10px 10px;">
                    <div class="w50 row h100">
                        <div class="w90 centraElemento">
                            <input type="button" class="pulsanteVeBa w100 h100 centraElemento" value="Salva" id=""
                                onclick="insRigaDocumentoReso();">
                        </div>
                    </div>
                    <div class="w50 row h100">
                        <div class="w90 centraElemento">
                            <input type="button" class="pulsanteVeBa w100 h100 centraElemento" value="Chiudi"
                                onclick="chiudiModalReso()">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--FINE MODAL INSERIMENTO SINGOLO RESO-->

    <div id="modalInserimentoDatiDDT" class="h100 w100 modalBlockBody">
        <div id="" class="containerModal modalCentrato" style="display: block;">
            <div class="modalMedio">
                <div class="w100 h40p">
                    <div class="h100 centraElemento fasciaIntestazione "
                        style="color: white; text-align: center; font-size: 25px; padding-top: 5px; border-radius: 10px 10px 0px 0px;"
                        id="modalBgintestazioneModal">
                        Invio Articoli per reso merce
                    </div>
                </div>
                <div id=""
                    style="padding: 10px; margin-top: 7px;  height: calc(100% - 126px); width: calc(100% - 20px); overflow: auto;"
                    class="">
                    <div class="h150p">
                        <input id="idTesReso" hidden>
                        <input id="idTesOrigineReso" hidden>
                        <div id="divNumeroDDT" name="divNumeroDDT" class="row has-float-label w50 marg5Top">
                            <input id="numeroDDT" name="numeroDDT" type="text"
                                placeholder="Inserisci numero ddt di reso..">
                            <label id="lblnumeroDDT" for="numeroDDT">Inserisci dati DDT</label>
                        </div>
                        <div id="divDataDDT" name="divDataDDT" class="row has-float-label w50 marg5Top">
                            <input id="dataDDT" name="dataDDT" type="date" placeholder="Inserisci data ddt di reso..">
                            <label id="lblDataDDT" for="lblDataDDT">Inserisci data DDT </label>
                        </div>
                        <div class="centraElemento w90">
                                <div class="row col6">
                                    <div class=" has-float-label w100" style="margin-bottom: 0px;">
                                        <span class="selectDefault" id="0">Seleziona modalità reso</span>
                                        <label for="slcModalitàReso">Seleziona modalità reso</label>
                                        <select id="slcModalitàReso" name="slcModalitàReso" class="selectBox"
                                            onchange="veirifcaMezzoReso(this)">
                                            <option value="0"></option>
                                            <option value="Mezzo Vettore">Mezzo Vettore</option>
                                            <option value="Mezzo Agente">Mezzo Agente</option>
                                            <option value="Mezzo Mittente">Mezzo Mittente</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row col6 hide" id="divslcListaVettori" >
                                    <div class=" has-float-label w100" style="margin-bottom: 0px;">
                                        <span class="selectDefault" id="0">Seleziona Vettore</span>
                                        <label for="slcListaVettori">Seleziona vettore</label>
                                        <select id="slcListaVettori" name="slcListaVettori" class="selectBox">
                                        </select>
                                    </div>
                                </div>
                            
                        </div>
                    </div>
                    <div id="listaArticoliAccettatiResoMerci" class="h100-150p scrool">

                    </div>
                </div>

                <div class="posBottom w100 clrSfumatoChiaro h50p"
                    style="position: absolute; padding: 5px 0px; border-radius: 0px 0px 10px 10px;">
                    <div class="w50 row h100">
                        <div class="w90 centraElemento">
                            <input type="button" class="pulsanteVeBa w100 h100 centraElemento" value="Invia" id=""
                                onclick="inviaDatiDDTReso()">
                        </div>
                    </div>
                    <div class="w50 row h100">
                        <div class="w90 centraElemento">
                            <input type="button" class="pulsanteVeBa w100 h100 centraElemento" value="Chiudi"
                                onclick="chiudiModaldatiDDT()">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="divBase" class="posTop posBottom clrSfumatoChiaro w100">
        <div id="divTestaSuperiore" class="row w100 clrBase h60p textureLogo">
            <div class="row w10">
                <div class="w60p">
                    <a href="#" onclick="clickBack()"><img class="imgPiccola w60p" src="img/bianche/back.svg" /></a>
                </div>
            </div>

            <div class="row intCent padSx10">
                <img id="logoIntestazione" class="logoOrizzontale" src="img/aziendapratica/aziendapratica-bianco.svg"
                    onclick="goMainPage()" />
            </div>

            <label id="userImg" class="rowDx userImg" for="nav-toggle"></label>
        </div>
        <div class="h100-60p w100 row" id="divResoMerceCliente">
            <div class="h100 row" id="divSelezioneArticoli">
                <div class="h60p">
                    <div id="divtxtRicercaDescrizione" name="div" class="row has-float-label w50 marg5Top">
                        <input id="txtRicercaDescrizione" name="txtRicercaDescrizione" type="text"
                            placeholder="Ricerca per descrizione.." onkeyup="ricercaConTimer()">
                        <span class="deleteicon"
                            onclick="var input = getElementById('txtRicercaDescrizione'); input.value = ''; input.focus();listaArticoliResoMerci(true)"></span>
                        <label id="lbltxtRicercaDescrizione" for="txtRicercaDescrizione">Ricerca per
                            descrizione..</label>
                    </div>
                    <input type="text" hidden id="txtCodiceBarre">
                    <button id="cmdBarCode" class="row w40p h42p pulsante clrTestoBianco marg5Top padSx5 btnCustom"
                        title="Avvia Lettore BarCode" onclick="apriLettoreBarCode('txtCodiceBarre')">
                        <img class="row w30p posTopA" src="img/bianche/barcode.svg">
                    </button>
                    <div id="divcercaArticoloResoMerci" name="divcercaArticoloResoMerci"
                        class="row has-float-label w50-40p marg5Top">
                        <input id="txtRicercaCodiceFornitore" name="txtRicercaCodiceFornitore" type="text"
                            placeholder="Ricerca per codice fornitore.." onkeyup="ricercaConTimer()">
                        <span class="deleteicon"
                            onclick="var input = getElementById('txtRicercaCodiceFornitore'); input.value = ''; input.focus();listaArticoliResoMerci(true) "></span>
                        <label id="lbltxtRicercaCodiceFornitore" for="txtRicercaCodiceFornitore">Ricerca codice
                            fornitore..</label>
                    </div>
                </div>
                <div id="listaStoricoArticoli" style="padding-left: 5px;overflow-x: hidden; overflow-y: auto;"
                    class="h100-160p w100-4p" onscroll="elencoArticoliScroll(this)">






                </div>
                <div class="h40p w100-4p fasciaIntestazione intestazione posBottomA52p" id="ragSocCliente">

                </div>
            </div>
            <div class="h100-60p row clrSfumatoChiaro hideDocumentoDiReso" id="divDocumentoDiReso">
                <div class="w98 rowDx">
                    <div id="intestazioneDocumentoReso" class="h40p">
                        <div class="row fasciaIntestazione">
                            <h3 class="row w100-30p" id="nrDocumento">RICHIESTA RESO</h3>
                            <div class="posRightA10p w30p" title="Pulisci documento"><a href="#"
                                    onclick="attivaAlert(5,'Sei Sicuro di voler pulire il documento di reso?','pulisciDocumentoCampi_')"><img
                                        class="imgPiccola30Dx marg10Dx marg5Top" src="img/bianche/sweeping.svg"
                                        alt=""></a></div>
                        </div>
                    </div>
                    <div id="corpoDocumentoReso"
                        style="overflow-y: auto; overflow-x: hidden;height: calc(100% - 200px); margin-top:10px">


                    </div>
                    <div class="intestazione testo16 clrScuro h80p navPiede w100-5p">
                        <div class="row w50 h100">
                            <div class="row w100 dx marg5Top testoTroncato1 padDx5">Totale Imponibile</div>
                            <div class="row w100 testo12 dx testoTroncato1 padDx5">Totale Iva</div>
                            <div class="row w100 dx testoTroncato1 marg2Top padDx5 clrContornoTopBianco">Totale
                                Documento</div>
                        </div>
                        <div class="row w50-5p">
                            <div id="divTotaleC" class="row w100 dx marg5Top testoTroncato1 padDx5"></div>
                            <div id="divTotaleIvaC" class="row w100 testo12 dx testoTroncato1 padDx5"></div>
                            <div id="divTotaleDocC"
                                class="row w100 dx testoTroncato1 marg2Top padDx5 clrContornoTopBianco"></div>
                        </div>
                    </div>
                    <div class="pulsantiera h60p w100">
                        <div class="w50 centraElemento">
                            <button id="" class="w95 h100 clrTestoBianco" onclick="inviaRichiestaReso('0')">SALVA
                                PRE-RESO</button>
                        </div>
                        <div class="w50 centraElemento">
                            <button id="" class="w95 h100 clrTestoBianco" onclick="inviaRichiestaReso('1')">INVIA
                                RICHIESTA DI RESO</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="h100-60p row clrSfumatoChiaro hide" id="divFiltriRicercaDocumento">
                <div class="row navTesta w100">
                    <div class="row fasciaIntestazione">
                        <h3 class="row w100-30p">FILTRO PRODOTTI</h3>
                        <div class="posRightA10p w30p" title="Elimina Tutti i Filtri Prodotto"><a href="#"
                                onclick="eliminaTuttiFiltri(this)"><img class="imgPiccola30Dx marg10Dx marg5Top"
                                    src="img/grafiche/eliminaFiltro.svg" alt=""></a></div>
                    </div>
                    <div id="tabLink" name="tabLink" class="tablink-content">
                        <button class="tablink intestazione tabLinkSelezionato" id="tabDatiDocumento"
                            onclick="openPage('DatiDocumento', this)">Dati documento</button>
                        <button class="tablink intestazione" id="tabFamiglia"
                            onclick="openPage('Famiglia', this)">Famiglia</button>
                    </div>
                </div>
                <div class="w98 rowDx" style="height: calc(100% - 100px);">

                    <div class="tabcontent posTopA5p posBottomA w100 h100" hMeno="110" id="DatiDocumento"
                        name="DatiDocumento" style="display: block;">
                        <div class="w100">
                            <div class="row datePikerContainer w100">
                                <div id="divDataDa" name="divDataDa" class="has-float-label datePiker w100">
                                    <input id="txtDataDa" name="txtDataDa" type="date"
                                        onchange="listaArticoliResoMerci(true)" value="">
                                    <label for="txtDataDa">da Data</label>
                                </div>
                            </div>
                        </div>
                        <div class="w100">
                            <div class="row datePikerContainer w100">
                                <div id="divDataA" name="divDataA" class="has-float-label datePiker w100">
                                    <input id="txtDataA" name="txtDataA" type="date"
                                        onchange="listaArticoliResoMerci(true)" value="">
                                    <label for="txtDataA">a Data</label>
                                </div>
                            </div>
                        </div>
                        <div class="w100">
                            <div class="row datePikerContainer w100">
                                <div id="divNumero" name="divNumero" class="has-float-label datePiker w100">
                                    <input id="txtNumeroFattura" name="txtNumeroFattura" type="text"
                                        onkeyup="ricercaConTimer()" value="">
                                    <label for="txtDataA">Numero Fattura</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div hMeno="110" id="Famiglia" name="Famiglia" class="tabcontent posTopA5p posBottomA w100">
                        <ul id="elencoFamiglia" name="elencoFamiglia" class="elencoR1 w100 posTopA posBottomA45p">

                        </ul>

                        <div class="intestazione clrScuro h40p posBottomA5p w100">
                            <div id="lblFiltroFamiglia" class="row w100-30p marg5Top testoTroncato1">Selezione:</div>
                            <div class="posRightA10p w30p"><a href="#" title="Elimina Filtro Famiglia"
                                    onclick="eliminaFiltroFamiglia()"><img class="imgPiccola30Dx marg10Dx marg5Top"
                                        src="img/grafiche/eliminaFiltro.svg" alt=""></a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="h100-60p row clrSfumatoChiaro hide" id="divListaResiInCorso">
                <div class="w98 rowDx">
                    <div id="intestazioneDocumentoReso" class="h50p">
                        <div class="row fasciaIntestazione">
                            <h3 class="row w100-30p">Resi in corso</h3>
                            <div class="posRightA10p w30p" title="Aggiorna"><a href="#"
                                    onclick="avviaCarDati('documentiResiCliente');"><img
                                        class="imgPiccola30Dx marg10Dx marg5Top" src="img/bianche/refresh.svg"
                                        alt=""></a></div>
                        </div>
                    </div>
                    <div id="corpoListaResiInCorso"
                        style="overflow-y: auto; overflow-x: hidden;height: calc(100% - 55px);">


                    </div>
                </div>
            </div>
            <div id="divPiede" class="posBottomA w100">
                <div class="pulsantiera">
                    <a id="pulsanteFiltri" name="pulsanteFiltri" class="btnBottomResoMerce" title="Filtro Prodotti"
                        onclick="apriFiltriArticoli()"><img src="img/bianche/filter.svg"></a>
                    <a id="btnResiInCorso" name="btnResiInCorso" class="btnBottomResoMerce" title="Lista resi in corso"
                        onclick="avviaCarDati('documentiResiCliente');apriListaResiInCorso()"><img
                            src="img/bianche/documents.svg"></a>
                    <a id="pulsanteAperturaDocumentoReso" name="cmdOk" class="w50" title="Lista articoli reso"
                        onclick="apriChiudiDocumentoReso()"><img src="img/bianche/aspettoBeni.svg"></a>
                </div>
            </div>

        </div>


    </div>
    <script src="js/decimal.js" id="libreriaDecimali"></script>
    <script src="js/multiDocumento.js"></script>
    <script src="js/resoMerce.js">

    </script>
</body>

</html>